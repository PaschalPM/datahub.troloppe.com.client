<dashboard-active-location-indicator/>

<div class="w-full p-2 md:p-4 lg:w-3/4 mx-auto -mt-5">

    <form [formGroup]="streetDataFormGroup" (ngSubmit)="onSubmit()"
        class="rounded-lg bg-white p-4 md:p-8 text-sm shadow-md backdrop-blur-md my-6 dark:border-white/50 dark:bg-white/5  dark:shadow-sm dark:shadow-white/35 ">

        <!---: Image URL -->
        <app-image-uploader label="Add a photo" name="image" [formGroup]="streetDataFormGroup"
            [formIsSubmitting]="formIsSubmitting" [(isLoading)]="isImageLoading"> </app-image-uploader>

        <!---: Property Unique Code -->
        <dashboard-select-dropdown label="Property Unique Code" name="uniqueCode" [formGroup]="streetDataFormGroup"
            bindLabel="value" bindValue="id" [formIsSubmitting]="formIsSubmitting" [items]="uniqueCodeOptions">
        </dashboard-select-dropdown>


        <!---: Street Address -->
        <dashboard-input-field label="Street Address" name="streetAddress" [formGroup]="streetDataFormGroup"
            [formIsSubmitting]="formIsSubmitting">
        </dashboard-input-field>


        <!---: Sector  -->
        <dashboard-select-dropdown label="Sector" name="sector" [formGroup]="streetDataFormGroup" bindLabel="value"
            bindValue="id" [formIsSubmitting]="formIsSubmitting" [items]="sectorOptions"> </dashboard-select-dropdown>


        <!---: Location  -->
        <dashboard-select-dropdown label="Location" name="location" [formGroup]="streetDataFormGroup" bindLabel="value"
            bindValue="id" [formIsSubmitting]="formIsSubmitting" [items]="locationOptions"
            (changeEvent)="setSelectedLocationValue($event)"> </dashboard-select-dropdown>


        <!---: Section  -->
        @if(selectedLocationValue){
        <dashboard-select-dropdown label="Section" name="section" [formGroup]="streetDataFormGroup" bindLabel="value"
            bindValue="id" [formIsSubmitting]="formIsSubmitting" [items]="sectionOptions"> </dashboard-select-dropdown>

        }

        <!---: Number of Units  -->
        <dashboard-input-field label="Number of Units" name="numberOfUnits" [formGroup]="streetDataFormGroup"
            [formIsSubmitting]="formIsSubmitting" type="number">
        </dashboard-input-field>

        <!---: Construction Status -->
        <dashboard-select-dropdown label="Construction Status" name="constructionStatus" [formGroup]="streetDataFormGroup"
            bindLabel="label" bindValue="value" [formIsSubmitting]="formIsSubmitting" [items]="constructionStatusOptions">
        </dashboard-select-dropdown>


        <!---: Description -->
        <dashboard-input-field label="Description" name="description" [formGroup]="streetDataFormGroup"
            [formIsSubmitting]="formIsSubmitting" [maxLength]="1000"></dashboard-input-field>


        <!---: OPTIONAL -->

        <!---: Contact Name -->
        <dashboard-input-field label="Contact Name" name="contactName" [formGroup]="streetDataFormGroup"
            [formIsSubmitting]="formIsSubmitting">
        </dashboard-input-field>

        <!---: Contact Numbers -->
        <dashboard-input-field type="number-list" label="Contact Number(s)" name="contactNumbers"
            [formGroup]="streetDataFormGroup" [formIsSubmitting]="formIsSubmitting">
        </dashboard-input-field>

        <!---: Contact Email -->
        <dashboard-input-field label="Contact Email" name="contactEmail" type="email" [formGroup]="streetDataFormGroup"
            [formIsSubmitting]="formIsSubmitting">
        </dashboard-input-field>

        <dashboard-submit-btn [isLoading]="isImageLoading"> Submit </dashboard-submit-btn>
    </form>
</div>